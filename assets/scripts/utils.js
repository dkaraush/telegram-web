$isMobile=/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent);$doc=document;$win=window;$body=document.body;$=$doc.querySelector.bind($doc);$html=$("html");$arr=$doc.querySelectorAll.bind($doc);$t=function(a,c){setTimeout(c,a)};Object.keys||(Object.keys=function(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c});
$rmclass=function(a,c){for(var b=(a.className||"").split(/ /g),d;0<=(d=b.indexOf(c));)b.splice(d,1);a.className=b.join(" ")};$setclass=function(a,c,b){b?$addclass(a,c):$rmclass(a,c)};$hasclass=function(a,c){return 0<=(a.className||"").split(/ /g).indexOf(c)};$addclass=function(a,c){var b=(a.className||"").split(/ /g);0<=b.indexOf(c)||(b.push(c),a.className=b.join(" "))};$append=function(a,c){if(c)for(var b=0;b<c.length;++b)null!=c[b]&&a.appendChild(c[b])};
$new=function(a,c,b,d,e,m){function k(a){return a.substring(1)}var g=$doc.createElement(a.match(/^(\w+)/)[0]),f=a.match(/(\.[\w\d-]+)/g),h=a.match(/(#[\w\d-]+)/g);f&&(g.className=f.map(k).join(" "));h&&(g.id=h.map(k).join(" "));if("object"===typeof c&&null!=c)for(var l in c)g.setAttribute(l,c[l]);else c&&(g.innerText=c);$append(g,b);f=arr(arguments).slice(3);for(h=0;h<f.length;++h)if("function"===typeof f[h])f[h](g);return g};
$ev=function(a,c,b){if("string"===typeof c)return $ev(a,[c],b);for(var d=0;d<c.length;++d)a.addEventListener(c[d],b)};var $loaded=!1,$_onload=[];$ev($win,"load",function(){$loaded=!0;for(var a=0;a<$_onload.length;++a)$_onload[a]();$_onload=[]});$onload=function(a){$loaded?a():$_onload.push(a)};$n=function(a){window.requestAnimationFrame?window.requestAnimationFrame(a):$t(16,a)};
$run=function(a,c,b){if($doc.createEvent){var d=$doc.createEvent("Event");d.initEvent(c,!0,!0);if("object"===typeof b)for(var e in b)d[e]=b[e]}a.dispatchEvent(d)};$evt=function(a,c){return function(b){$ev(b,a,c)}};$click=$evt.bind(this,"click");function range(a,c,b){return Math.min(Math.max(a,c),b)}function arr(a){return Array.prototype.slice.apply(a)}function now(a){var c=+new Date+(window.tsOffset||0);return a?Math.floor(c/1E3):c}
function load(a,c){var b=new XMLHttpRequest;b.open("GET",a,!0);b.onreadystatechange=function(){4===b.readyState&&c(200===b.status,b.responseText)};b.send()}function loadAll(a,c){var b=0,d=a.length,e=[];a.forEach(function(a,k){load(a,function(a,f){b++;e[k]=f;b==d&&c(e)})})}function all(){for(var a=arr(arguments),c=[],b=0,d=a.length-1,e=0;e<a.length-1;++e)a[e](function(){c[b]=arr(arguments);b++;if(b==d)a[a.length-1](c)})}
function map(a,c){for(var b=Array(a.length),d=0;d<a.length;++d)b[d]=c(a[d]);return b}function filter(a,c){for(var b=0;b<a.length;++b)c(a[b])||(a.splice(b,1),b--);return a}function has(a,c){for(var b=0;b<a.length;++b)if(c(a[b]))return!0;return!1}function find(a,c){for(var b=0;b<a.length;++b)if(c(a[b]))return a[b];return null}function assign(a,c){for(var b in c)a[b]=c[b];return a};